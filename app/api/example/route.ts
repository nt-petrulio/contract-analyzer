import { NextRequest, NextResponse } from 'next/server'

const examples = {
  nda: {
    score: 75,
    critical: [
      'Термін дії NDA - "безстроково" - може обмежити ваші майбутні можливості роботи',
      'Відсутній пункт про виключення публічної інформації з конфіденційної'
    ],
    warnings: [
      'Визначення "конфіденційної інформації" занадто широке - може включати ваші власні розробки',
      'Штраф за порушення не обмежений конкретною сумою',
      'Відсутня можливість розірвання договору з вашого боку'
    ],
    ambiguous: [
      'Формулювання "вся інформація, отримана в процесі співпраці" - незрозуміло, що саме включено',
      'Поняття "розумний строк" для повернення документів не конкретизовано',
      '"Комерційні таємниці" не мають чіткого визначення в контексті договору'
    ],
    recommendations: [
      'Обмежити термін дії NDA (наприклад, 2-3 роки після закінчення співпраці)',
      'Додати пункт про виключення: публічна інформація, інформація отримана від третіх осіб легально, ваші власні розробки до підписання',
      'Вказати максимальну суму штрафу або обмежити її розміром контракту',
      'Додати можливість розірвання договору за 30 днів письмового повідомлення',
      'Конкретизувати, що саме відноситься до конфіденційної інформації (технічні специфікації, фінансові дані, клієнтські бази)',
      'Встановити конкретний термін для повернення документів (наприклад, 14 днів)'
    ]
  },
  employment: {
    score: 45,
    critical: [
      'Пункт про non-compete: заборона працювати в галузі 2 роки після звільнення - може бути незаконним в Україні',
      'Всі права на розробки передаються компанії без додаткової винагороди - включно з особистими проектами',
      'Штраф за дострокове розірвання - 3 місячні зарплати - занадто високий',
      'Відсутній пункт про компенсацію при звільненні з ініціативи роботодавця'
    ],
    warnings: [
      'График роботи "гнучкий, до 50 годин на тиждень" - може призвести до переробок без оплати',
      'Відпустка "за погодженням з керівництвом" - немає гарантій планування',
      'Премії та бонуси "на розсуд керівництва" - відсутні об\'єктивні критерії',
      'Можливість зміни умов договору "в односторонньому порядку при повідомленні"'
    ],
    ambiguous: [
      'Термін "відрядження" не визначено - може включати довгострокові переїзди',
      'Поняття "корпоративна етика" згадується як підстава для звільнення, але не розшифровується',
      'Фраза "якісне виконання обов\'язків" без конкретних KPI',
      '"Розумні години" для дзвінків поза робочим часом - не визначено межі'
    ],
    recommendations: [
      'КРИТИЧНО: Видалити або максимально обмежити non-compete clause (6 місяців + тільки прямі конкуренти)',
      'Обмежити права на IP: тільки те, що створено в робочий час для проектів компанії',
      'Зменшити штраф до 1 місячної зарплати або домовитись про відпрацювання',
      'Додати пункт про вихідну допомогу (severance pay) - мінімум 1 місячна зарплата',
      'Обмежити робочий час до 40 годин/тиждень + оплата понаднормових',
      'Конкретизувати порядок надання відпустки (наприклад, "мінімум 2 тижні на вибір працівника")',
      'Додати об\'єктивні критерії для премій або фіксовану частину бонусів',
      'Вказати, що зміна умов потребує взаємної згоди або повідомлення за 2 місяці',
      'ПОРАДА: Перед підписанням - ОБОВ\'ЯЗКОВО проконсультуватись з юристом, ці умови виглядають невигідними'
    ]
  }
}

export async function GET(request: NextRequest) {
  const searchParams = request.nextUrl.searchParams
  const type = searchParams.get('type') || 'nda'

  const example = examples[type as keyof typeof examples] || examples.nda

  // Simulate processing delay for realism
  await new Promise(resolve => setTimeout(resolve, 2000))

  return NextResponse.json(example)
}
